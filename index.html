<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Farfalle</title>

  <!-- Favicon -->
  <link rel="shortcut icon" type="image/x-icon" href="favicon.ico" />
  <link rel="icon" type="image/x-icon" href="/images/favicon.ico">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">

  <style>
    body {
      margin: 0;
      background-color: #f8f8f2; /* off-white */
      font-family: 'Georgia', 'Arial Black', sans-serif;
      font-weight: 700;
      color: #333;
      font-size: 5rem;
      user-select: none;
      cursor: url('/path-to-image.png') 16 16, auto;
      overflow-x: hidden;
    }

    #sketch-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      z-index: 0;
    }

    #section1 {
      position: relative;
      height: 100vh;
      color: transparent;
      user-select: none;
      display: flex;
      justify-content: center;
      align-items: center;
      background-color: transparent;
      font-size: 5rem;
      font-weight: 700;
    }

    .section-content {
      width: 100%;
      text-align: center;
    }

    @media (max-width: 768px) {
      .section-content {
        padding: 0 1rem;
        box-sizing: border-box;
      }
    }

    .section {
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      position: relative;
      z-index: 1;
    }

    #section2 { background-color: #e0dfd5; }
    #section3 { background-color: #d0cec7; }
  </style>
</head>
<body>
  <div id="sketch-container"></div>

  <div class="section" id="section1"><div class="section-content">Farfalle</div></div>
  <div class="section" id="section2"><div class="section-content">Fuckin Herb</div></div>
  <div class="section" id="section3"><div class="section-content">Go fuck yourself</div></div>

  <script src="https://cdn.jsdelivr.net/npm/p5@1.7.0/lib/p5.min.js"></script>

  <script>
    let farfalleImg;
    let icons = [];
    const iconCount = 15;
    let customFont;

    function preload() {
      farfalleImg = loadImage('assets/farfalle.png');
      customFont = loadFont('fonts/the.otf');
    }

    function setup() {
      let canvas = createCanvas(windowWidth, windowHeight);
      canvas.parent('sketch-container');

      textAlign(CENTER, CENTER);
      textSize(80);
      textStyle(BOLD);
      textFont(customFont);

      for (let i = 0; i < iconCount; i++) {
        let x = i * (width / iconCount) - random(50);
        let y = random(height);
        let speed = random(0.2, 1.0);
        icons.push({ x, y, speed });
      }
    }

    function draw() {
      background('#f8f8f2');

      // Dynamic color based on vertical mouse position
      let topColor = color(0); // black
      let bottomColor = color('#f4d35e'); // yellow
      let fadeAmt = constrain(mouseY / height, 0, 1);
      let fadedColor = lerpColor(topColor, bottomColor, fadeAmt);

      fill(fadedColor);
      textFont(customFont);
      text('Farfalle', width / 2, height / 2);

      for (let icon of icons) {
        let imgWidth = 50;
        let imgHeight = (farfalleImg.height / farfalleImg.width) * imgWidth;

        let shadowMaxOffset = 120;
        let shadowMinOffset = 5;
        let shadowOffset = map(icon.x, 0, width, shadowMaxOffset, shadowMinOffset);
        shadowOffset = constrain(shadowOffset, shadowMinOffset, shadowMaxOffset);

        let maxScaleX = 2.0;
        let minScaleX = 1.0;
        let scaleX = map(icon.x, 0, width, maxScaleX, minScaleX);
        scaleX = constrain(scaleX, minScaleX, maxScaleX);

        let shadowAlphaMin = 30;
        let shadowAlphaMax = 100;
        let shadowAlpha = map(icon.x, 0, width, shadowAlphaMin, shadowAlphaMax);
        shadowAlpha = constrain(shadowAlpha, shadowAlphaMin, shadowAlphaMax);

        push();
        tint(0, shadowAlpha);
        translate(icon.x - shadowOffset - (imgWidth * (scaleX - 1)) / 2, icon.y);
        scale(scaleX, 1);
        image(farfalleImg, 0, 0, imgWidth, imgHeight);
        pop();

        noTint();
        image(farfalleImg, icon.x, icon.y, imgWidth, imgHeight);

        icon.x += icon.speed;

        if (icon.x > width) {
          icon.x = -imgWidth;
          icon.y = random(height);
          icon.speed = random(0.2, 1.0);
        }
      }
    }

    function windowResized() {
      resizeCanvas(windowWidth, windowHeight);
    }
  </script>
</body>
</html>


